
**Resolvd**  
- **Purpose:** FastAPI service that automates incident resolution by ingesting GitHub and Sentry events and leveraging LLMs plus vector search  
- **Endpoints:**  
  - `POST /github` – GitHub App webhooks (installations, pushes, comments) → index code into Pinecone  
  - `POST /sentry` – Sentry error events → store in Supabase + trigger AI-based resolver  
  - `GET /health` – simple health check  
- **Core Components:**  
  - **GithubIndexer/GithubRepoHandler:** fetch repos, chunk code, embed with OpenAIEmbeddings, upsert into Pinecone  
  - **SentryHandler:** persist Sentry events to Supabase, call resolver  
  - **IncidentResolver:** use GPT-4 via LangChain to suggest fixes based on historical CSV logs  
- **Data Layers:**  
  - **Vector DB:** Pinecone for code/document similarity search  
  - **Relational/Time-series:** Supabase for event metadata  
  - **Grounding Data:** `Unique_Incident_Logs.csv` loaded via LangChain  
- **Observability & Analytics:**  
  - `loguru` → logs to PostHog  
  - Sentry integration for runtime error tracking  
- **Tech Stack:** FastAPI, Uvicorn, LangChain (ChatOpenAI + embeddings), Pinecone SDK, Supabase Python, PyGitHub, PostHog, pytest  
- **Key Files:**  
  - `main.py`, `github_token_generator.py`, `requirements.txt`, Heroku configs (`Procfile`, `runtime.txt`)  
  - Directories: `indexers/`, `interfaces/`, `databases/`, plus `tests/` and CSV seed data  
- **Getting Started:**  
  1. Set env vars (`OPENAI_API_KEY`, `PINECONE_API_KEY`, `SUPABASE_URL/KEY`, GitHub App creds)  
  2. `pip install -r requirements.txt`  
  3. `uvicorn main:app --reload`  
  4. Point GitHub and Sentry webhooks to `/github` and `/sentry` respectively  
- **Main API** (`main.py`):  
  - Exposes three endpoints:  
    - `POST /github` to handle GitHub App webhooks (installation, repo pushes, issue comments) and index repositories via a LangChain-powered pipeline.  
    - `GET /health` for a basic health check.  
    - `POST /sentry` to receive Sentry error events and resolve incidents using an LLM.  ([Resovld/main.py at main · Naim08/Resovld · GitHub](https://github.com/Naim08/Resovld/blob/main/main.py))  
- **Indexers & Handlers** (`indexers/`, `interfaces/`):  
  - **`GithubIndexer`** and **`GithubRepoHandler`** pull code from newly-installed or updated repos, chunk it into documents, embed with OpenAIEmbeddings, and upsert into a Pinecone index.  
  - **`IncidentResolver`** uses a chat LLM (GPT-4) to propose resolutions for errors based on historical incident logs.  
  - **`SentryHandler`** receives Sentry payloads, stores events in Supabase, and invokes the resolver.  ([Resovld/main.py at main · Naim08/Resovld · GitHub](https://github.com/Naim08/Resovld/blob/main/main.py))  

**Data Storage & Embeddings**  
- **Vector DB**: Pinecone (index name: `git-code`) for similarity search over code/document embeddings.  
- **Relational/Time-series DB**: Supabase for persisting incident metadata.  
- **Historical Logs**: CSV (`Unique_Incident_Logs.csv`) loaded via LangChain’s CSVLoader as grounding data for the resolver.  ([Resovld/main.py at main · Naim08/Resovld · GitHub](https://github.com/Naim08/Resovld/blob/main/main.py), [Resovld/requirements.txt at main · Naim08/Resovld · GitHub](https://github.com/Naim08/Resovld/blob/main/requirements.txt))  

**Analytics & Observability**  
- **Logging**: `loguru` captures events and pushes them to PostHog for usage analytics (`posthog.capture`).  
- **Error Tracking**: Sentry events are fed directly into the resolver pipeline.  

**Tech Stack & Dependencies**  
- **API Framework**: FastAPI + Uvicorn  
- **LLM & Embeddings**: LangChain’s `ChatOpenAI` (GPT-4) and `OpenAIEmbeddings`  
- **Databases**: Pinecone client, Supabase Python library  
- **GitHub Integration**: PyGitHub via a GitHub App (credentials generated by `GitHubTokenGenerator`)  
- **Analytics**: PostHog  
- **Extras**: dotenv, loguru, CSVLoader, plus typical HTTP clients (httpx), async libraries, and testing frameworks (pytest)  ([Resovld/requirements.txt at main · Naim08/Resovld · GitHub](https://github.com/Naim08/Resovld/blob/main/requirements.txt))  

**Key Files & Folders**  
```
/.
├── main.py                     # FastAPI app wiring all components
├── github_token_generator.py   # Creates GitHub App tokens
├── requirements.txt            # Pinning all deps (FastAPI, LangChain, Pinecone, Supabase, etc.)
├── Procfile & runtime.txt      # Heroku/Hydrogen deployment configs
├── indexers/                   # Logic for GitHub repo fetching & embedding
├── interfaces/                 # Abstract loaders & handlers (documents, Sentry, incidents)
├── databases/                  # DB client adapters for Pinecone & Supabase
├── services/ demoserver1/2     # (Presumably example/demo servers)
├── tests/                      # Automated tests
└── Unique_Incident_Logs*.csv   # Seed data for incident resolution
```  
*(Folders like `.idea/` are IDE settings.)*  ([GitHub - Naim08/Resovld](https://github.com/Naim08/Resovld))

**Getting Started**  
1. **Env vars**:  
   - `OPENAI_API_KEY`, `PINECONE_API_KEY`, `SUPABASE_URL`, `SUPABASE_KEY`  
   - GitHub App credentials (`APP_ID`, private key file)  
2. **Install**:  
   ```bash
   pip install -r requirements.txt
   ```
3. **Run**:  
   ```bash
   uvicorn main:app --reload
   ```
4. **Configure** your GitHub App webhook to point at `/github` and Sentry to `/sentry`.

---

*Resovld* stitches together LLMs, vector search, and real-time webhooks to automate incident ingestion and resolution suggestions — a practical example of AI-driven developer tooling.
